<div class="absolute top-0 left-0 w-screen h-screen bg-gray-200"></div>
<form class="absolute top-1/2 left-1/2 -translate-1/2 rounded-md py-7 px-5 bg-white flex flex-col items-center space-y-10 min-lg:w-1/4 min-md:w-1/3 min-sm:w-1/2 shadow-2xl" (submit)="loginFormSubmit()" [formGroup]="loginForm">
    <div class="text-2xl font-bold">Login</div>
    <div class="relative w-full">
        <input formControlName="username" type="text" title="Enter your username" name="Username" class="px-5 py-3 rounded-md outline-1 text-[1rem] w-full" [ngClass]="{
            'outline-purple-500':loginForm.get('username')?.valid,
            'outline-red-500':loginForm.get('username')?.invalid
        }">
        <span class="absolute top-0 left-14 -translate-1/2 bg-white px-1 font-semibold" [ngClass]="{
            'text-purple-600':loginForm.get('username')?.valid,
            'text-red-600':loginForm.get('username')?.invalid
        }">Username</span>
    </div>
    <div class="relative w-full">
        <input formControlName="password" type="password" title="Enter your password" name="Password" class="px-5 py-3 rounded-md outline-1 text-[1rem] w-full" [ngClass]="{
            'outline-purple-500':loginForm.get('password')?.valid,
            'outline-red-500':loginForm.get('password')?.invalid
        }">
        <span class="absolute top-0 left-14 -translate-1/2 bg-white px-1 font-semibold" [ngClass]="{
            'text-purple-600':loginForm.get('password')?.valid,
            'text-red-600':loginForm.get('password')?.invalid
        }">Password</span>
    </div>
    <button class="px-10 py-3 transition-all text-white rounded-md font-bold w-fit shadow-xl" [disabled]="loginLoading" [ngClass]="{'bg-purple-500 duration-200 hover:bg-purple-400':loginForm.valid,'bg-gray-500':loginForm.invalid,'hover:cursor-pointer':!loginLoading}">
        @if (loginLoading){
            <div class="loader"></div>
        }
        @else{
            Login
        }
    </button>
</form>
@if (alertOpen){
    <div class="absolute top-5 right-10 border-1 rounded-md border-red-500 bg-red-200 py-3 flex items-center px-3 space-x-4 shadow-xl duration-200 *:not-[img[alt='Close_icon']]:select-none">
        <img src="mark.png" alt="Warning icon" class="size-12">
        <div class="">
            <div class="font-bold text-red-900">Error:</div>
            <div class="text-red-900">Incorrect username or password</div>
        </div>
        <img src="close.png" alt="Close icon" class="size-3 hover:cursor-pointer" (click)="closeModal()">
    </div>
}